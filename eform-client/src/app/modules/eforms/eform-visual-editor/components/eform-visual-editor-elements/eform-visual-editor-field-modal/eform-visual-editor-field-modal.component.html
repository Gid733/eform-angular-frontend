<div mdbModal class="modal fade" #frame="mdbModal">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <h3>{{ 'New field' | translate }}</h3>
      </div>
      <div class="modal-body">
        <div class="card z-depth-3 mt-4" style="width: 100%">
          <div class="card-body">
            <mdb-card class="mb-3">
              <mdb-card-body>
                <div class="row">
                  <div class="col">
                    <div class="ng-select-wrapper">
                      <ng-select
                        class="custom"
                        dropdownPosition="'bottom'"
                        [placeholder]="'Selected language' | translate"
                        [clearable]="false"
                        [bindLabel]="'text'"
                        [bindValue]="'id'"
                        [(ngModel)]="selectedLanguage"
                        id="newFieldLanguageSelector"
                        [items]="languages"
                      ></ng-select>
                    </div>
                  </div>
                </div>
              </mdb-card-body>
            </mdb-card>
            <mdb-card>
              <mdb-card-body>
                <ng-container
                  *ngFor="
                    let translation of selectedFieldTranslations;
                    let translationIndex = index
                  "
                >
                  <ng-container *ngIf="selectedLanguage === translation.id">
                    <div class="row">
                      <div class="col-12">
                        <div class="md-form">
                          <input
                            mdbInput
                            type="text"
                            id="newFieldNameTranslation_{{
                              translationIndex
                            }}"
                            name="newFieldNameTranslation_{{
                              translationIndex
                            }}"
                            [(ngModel)]="translation.name"
                            class="form-control"
                          />
                          <label
                            for="newFieldNameTranslation_{{
                              translationIndex
                            }}"
                          >
                            {{ 'Name' | translate }}
                          </label>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12">
                        <div class="md-form">
                          <p class="text-black-50">
                            {{ 'Description' | translate }}
                          </p>
                          <pell-editor
                            mdbInput
                            [(value)]="translation.description"
                            name="newFieldDescriptionTranslation_{{
                              translationIndex
                            }}"
                            required
                            id="newFieldDescriptionTranslation_{{
                              translationIndex
                            }}"
                            rows="10"
                          ></pell-editor>
                        </div>
                      </div>
                    </div>
                  </ng-container>
                </ng-container>
              </mdb-card-body>
            </mdb-card>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button
          mdbBtn
          class="btn-success btn-small-height"
          (click)="selectedField ? onUpdateField() : onCreateField()"
          id="changeFieldSaveBtn"
        >
          {{ 'Save' | translate }}
        </button>
        <button
          mdbBtn
          class="btn-accent text-black-50 btn-small-height"
          (click)="frame.hide()"
          id="changeFieldSaveCancelBtn"
        >
          {{ 'Cancel' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
